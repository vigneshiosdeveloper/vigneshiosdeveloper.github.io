<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Opening ADIB Business App…</title>

  <script>
    // iOS App Store (web – works on iPhone and Mac)
    const IOS_APP_STORE =
      "https://apps.apple.com/in/app/adib-direct-business/id1447735010";

    // Android Play Store
    const ANDROID_PLAY_STORE =
      "https://play.google.com/store/apps/details?id=com.intellectdesign.cbx";

    function getParams() {
      return window.location.search || "";
    }

    // Deep link into your Cordova app
    function getAppSchemeUrl() {
      return "openfinance://login" + getParams();
    }

    function isIOS() {
      return /iPhone|iPad|iPod/i.test(navigator.userAgent);
    }

    function isAndroid() {
      return /Android/i.test(navigator.userAgent);
    }

    function isMacDesktop() {
      return /Macintosh/i.test(navigator.userAgent);
    }

    function openAppOrStore() {
      const appUrl = getAppSchemeUrl();

      // 1) Try to open your OpenFinance app
      window.location = appUrl;

      // 2) After 1 second, if nothing happened, go to store
      setTimeout(function () {
        if (isIOS()) {
          // iPhone / iPad
         // window.location = IOS_APP_STORE;
                    window.location = ANDROID_PLAY_STORE;

        } else if (isAndroid()) {
          // Android
          window.location = ANDROID_PLAY_STORE;
        } else if (isMacDesktop()) {
          // Mac browser → open the same App Store page (like old code)
          window.location = IOS_APP_STORE;
        } else {
          // Other platforms (Windows, etc.)
          window.location = IOS_APP_STORE;
        }
      }, 1000);
    }

    window.onload = openAppOrStore;
  </script>
</head>
<body>
  <p>Opening ADIB Business App…</p>
  <p>If nothing happens, you will be redirected to the App Store / Play Store.</p>
</body>
</html>
